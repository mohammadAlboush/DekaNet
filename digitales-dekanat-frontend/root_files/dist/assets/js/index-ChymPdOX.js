const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/Dashboard-BWyazCM8.js","assets/js/vendor-mui-BiVZR0IW.js","assets/js/vendor-react-CBtCGaWm.js","assets/js/planungPhaseStore-D_yYLaUh.js","assets/js/vendor-utils-DTv3oRQQ.js","assets/js/planungPhaseService-9n5IcayC.js","assets/js/planungService-CoVGOVAB.js","assets/js/auftragService-C7I9NqYc.js","assets/js/semesterService-CfIHzVdr.js","assets/js/dashboardService-B-UpU4DJ.js","assets/js/dozentService-DoNU8l0w.js","assets/js/auftragStore-Comokw4G.js","assets/js/ProfessorDashboard-Dv3MExK0.js","assets/js/Semesterplanung-CzJ8LfCe.js","assets/js/WizardView-D_f3aRZy.js","assets/js/WunschTagEditor-D86ctGzX.js","assets/js/templateService-DPVmfzBZ.js","assets/js/SemesterplanungDetail-DDmRZa2S.js","assets/js/modulService-OIZms_eT.js","assets/js/DekanPlanungView-DDnQMUDQ.js","assets/js/Module-DOhP1-gf.js","assets/js/Modulhandbuecher-DfBZ6Loa.js","assets/js/Dozenten-B13MmJWN.js","assets/js/SemesterPage-CDQDJNRC.js","assets/js/EinstellungenPage-CBwNIMXO.js","assets/js/DeputatsabrechnungNeu-BZuB4Vrt.js","assets/js/deputat.types-Cf-5gPQY.js","assets/js/DeputatVerwaltung-DY4o6cC7.js","assets/js/TemplateVerwaltung-Be1_lcZb.js","assets/js/TemplateDetail-CD6bb7NF.js"])))=>i.map(i=>d[i]);
var Ge=Object.defineProperty;var Ke=(s,n,a)=>n in s?Ge(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var L=(s,n,a)=>Ke(s,typeof n!="symbol"?n+"":n,a);import{c as Ze,d as et,u as tt,e as rt,j as r,B as E,T as ve,f as A,I as V,C as nt,D as X,L as xe,g as we,h as be,i as R,k as Se,S as Pe,A as at,M as st,l as ot,m as ze,n as it,o as G,p as Ne,q as lt,r as je,s as ke,v as ct,w as ue,x as ut,G as dt,W as ht,F as mt,y as ft,z as ge,E as gt,H as He,P as Ue,J as pt,K as Je,N as yt,O as Me,Q as K,V as vt,R as xt,U as wt,X as bt,Y as St,Z as Pt}from"./vendor-mui-BiVZR0IW.js";import{d as jt,g as kt,u as Be,e as qe,r as D,b as j,O as Mt,N as H,B as Tt,f as At,h as w}from"./vendor-react-CBtCGaWm.js";import{a as Z,l as Et,p as Dt,f as _t,b as It,i as Ct,c as Lt,d as Rt,e as Ot,g as Ft,h as Wt,j as zt,k as Nt,m as Ht,n as Ut,o as Jt,q as Bt,r as qt,s as Vt,t as $t,u as Yt,v as ee,w as te,x as Te,y as O,z as J,A as Ae,B as Qt,C as Ee,D as re,E as De,F as ne,G as _e,H as ae,I as Xt,J as Gt,K as Kt,L as Zt,M as er,N as tr,O as rr,P as nr,Q as ar,R as sr,S as or,T as ir,U as lr,V as cr,W as ur,X as dr,Y as hr,Z as mr,_ as fr,$ as gr,a0 as pr,a1 as se,a2 as F,a3 as W,a4 as yr,a5 as pe,a6 as Ve}from"./vendor-utils-DTv3oRQQ.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&e(f)}).observe(document,{childList:!0,subtree:!0});function a(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function e(t){if(t.ep)return;t.ep=!0;const o=a(t);fetch(t.href,o)}})();var de={},Ie=jt;de.createRoot=Ie.createRoot,de.hydrateRoot=Ie.hydrateRoot;const vr="modulepreload",xr=function(s){return"/"+s},Ce={},M=function(n,a,e){let t=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),i=f?.nonce||f?.getAttribute("nonce");t=Promise.allSettled(a.map(d=>{if(d=xr(d),d in Ce)return;Ce[d]=!0;const c=d.endsWith(".css"),p=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const v=document.createElement("link");if(v.rel=c?"stylesheet":vr,c||(v.as="script"),v.crossOrigin="",v.href=d,i&&v.setAttribute("nonce",i),document.head.appendChild(v),c)return new Promise((x,y)=>{v.addEventListener("load",x),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(f){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=f,window.dispatchEvent(i),!i.defaultPrevented)throw f}return t.then(f=>{for(const i of f||[])i.status==="rejected"&&o(i.reason);return n().catch(o)})};var he={exports:{}};(function(s,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(d,c){switch(d){case"P":return c.date({width:"short"});case"PP":return c.date({width:"medium"});case"PPP":return c.date({width:"long"});case"PPPP":default:return c.date({width:"full"})}},e=function(d,c){switch(d){case"p":return c.time({width:"short"});case"pp":return c.time({width:"medium"});case"ppp":return c.time({width:"long"});case"pppp":default:return c.time({width:"full"})}},t=function(d,c){var p=d.match(/(P+)(p+)?/)||[],v=p[1],x=p[2];if(!x)return a(d,c);var y;switch(v){case"P":y=c.dateTime({width:"short"});break;case"PP":y=c.dateTime({width:"medium"});break;case"PPP":y=c.dateTime({width:"long"});break;case"PPPP":default:y=c.dateTime({width:"full"});break}return y.replace("{{date}}",a(v,c)).replace("{{time}}",e(x,c))},o={p:e,P:t},f=o;n.default=f,s.exports=n.default})(he,he.exports);var wr=he.exports;const br=kt(wr),Sr={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Pr={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",fullDateWithWeekday:"PPPP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",monthAndYear:"LLLL yyyy",monthAndDate:"MMMM d",fullTime:"p",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",fullDateTime:"PP p",fullDateTime12h:"PP hh:mm aa",fullDateTime24h:"PP HH:mm",keyboardDateTime:"P p",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class jr{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib="date-fns",this.locale=void 0,this.formats=void 0,this.formatTokenMap=Sr,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=o=>typeof o>"u"?new Date:o===null?null:new Date(o),this.dateWithTimezone=o=>this.date(o),this.getTimezone=()=>"default",this.setTimezone=o=>o,this.toJsDate=o=>o,this.getCurrentLocaleCode=()=>{var o;return((o=this.locale)==null?void 0:o.code)||"en-US"},this.is12HourCycleInCurrentLocale=()=>this.locale?/a/.test(this.locale.formatLong.time({width:"short"})):!0,this.expandFormat=o=>{const f=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return o.match(f).map(i=>{const d=i[0];if(d==="p"||d==="P"){const c=this.longFormatters[d];return c(i,this.locale.formatLong)}return i}).join("")},this.getFormatHelperText=o=>this.expandFormat(o).replace(/(aaa|aa|a)/g,"(a|p)m").toLocaleLowerCase(),this.isNull=o=>o===null,this.formatNumber=o=>o,this.getMeridiemText=o=>o==="am"?"AM":"PM";const{locale:a,formats:e,longFormatters:t}=n;this.locale=a,this.formats=Ze({},Pr,e),this.longFormatters=t}}class kr extends jr{constructor({locale:n,formats:a}={}){if(typeof Z!="function")throw new Error(["MUI: The `date-fns` package v3.x is not compatible with this adapter.","Please, install v2.x of the package or use the `AdapterDateFnsV3` instead."].join(`
`));super({locale:n??Et,formats:a,longFormatters:br}),this.parseISO=e=>Dt(e),this.toISO=e=>_t(e,{format:"extended"}),this.parse=(e,t)=>e===""?null:It(e,t,new Date,{locale:this.locale}),this.isValid=e=>Ct(this.date(e)),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>Lt(e,t,{locale:this.locale}),this.getDiff=(e,t,o)=>{switch(o){case"years":return Jt(e,this.date(t));case"quarters":return Ut(e,this.date(t));case"months":return Ht(e,this.date(t));case"weeks":return Nt(e,this.date(t));case"days":return zt(e,this.date(t));case"hours":return Wt(e,this.date(t));case"minutes":return Ft(e,this.date(t));case"seconds":return Ot(e,this.date(t));default:return Rt(e,this.date(t))}},this.isEqual=(e,t)=>e===null&&t===null?!0:Bt(e,t),this.isSameYear=(e,t)=>qt(e,t),this.isSameMonth=(e,t)=>Vt(e,t),this.isSameDay=(e,t)=>$t(e,t),this.isSameHour=(e,t)=>Yt(e,t),this.isAfter=(e,t)=>ee(e,t),this.isAfterYear=(e,t)=>ee(e,te(t)),this.isAfterDay=(e,t)=>ee(e,Te(t)),this.isBefore=(e,t)=>O(e,t),this.isBeforeYear=(e,t)=>O(e,J(t)),this.isBeforeDay=(e,t)=>O(e,Ae(t)),this.isWithinRange=(e,[t,o])=>Qt(e,{start:t,end:o}),this.startOfYear=e=>J(e),this.startOfMonth=e=>Ee(e),this.startOfWeek=e=>re(e,{locale:this.locale}),this.startOfDay=e=>Ae(e),this.endOfYear=e=>te(e),this.endOfMonth=e=>De(e),this.endOfWeek=e=>ne(e,{locale:this.locale}),this.endOfDay=e=>Te(e),this.addYears=(e,t)=>_e(e,t),this.addMonths=(e,t)=>ae(e,t),this.addWeeks=(e,t)=>Xt(e,t),this.addDays=(e,t)=>Z(e,t),this.addHours=(e,t)=>Gt(e,t),this.addMinutes=(e,t)=>Kt(e,t),this.addSeconds=(e,t)=>Zt(e,t),this.getYear=e=>er(e),this.getMonth=e=>tr(e),this.getDate=e=>rr(e),this.getHours=e=>nr(e),this.getMinutes=e=>ar(e),this.getSeconds=e=>sr(e),this.getMilliseconds=e=>or(e),this.setYear=(e,t)=>ir(e,t),this.setMonth=(e,t)=>lr(e,t),this.setDate=(e,t)=>cr(e,t),this.setHours=(e,t)=>ur(e,t),this.setMinutes=(e,t)=>dr(e,t),this.setSeconds=(e,t)=>hr(e,t),this.setMilliseconds=(e,t)=>mr(e,t),this.getDaysInMonth=e=>fr(e),this.getNextMonth=e=>ae(e,1),this.getPreviousMonth=e=>ae(e,-1),this.getMonthArray=e=>{const o=[J(e)];for(;o.length<12;){const f=o[o.length-1];o.push(this.getNextMonth(f))}return o},this.mergeDateAndTime=(e,t)=>this.setSeconds(this.setMinutes(this.setHours(e,this.getHours(t)),this.getMinutes(t)),this.getSeconds(t)),this.getWeekdays=()=>{const e=new Date;return gr({start:re(e,{locale:this.locale}),end:ne(e,{locale:this.locale})}).map(t=>this.formatByString(t,"EEEEEE"))},this.getWeekArray=e=>{const t=re(Ee(e),{locale:this.locale}),o=ne(De(e),{locale:this.locale});let f=0,i=t;const d=[];for(;O(i,o);){const c=Math.floor(f/7);d[c]=d[c]||[],d[c].push(i),i=Z(i,1),f+=1}return d},this.getWeekNumber=e=>pr(e,{locale:this.locale}),this.getYearRange=(e,t)=>{const o=J(e),f=te(t),i=[];let d=o;for(;O(d,f);)i.push(d),d=_e(d,1);return i}}}var Le={lessThanXSeconds:{standalone:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"},withPreposition:{one:"weniger als 1 Sekunde",other:"weniger als {{count}} Sekunden"}},xSeconds:{standalone:{one:"1 Sekunde",other:"{{count}} Sekunden"},withPreposition:{one:"1 Sekunde",other:"{{count}} Sekunden"}},halfAMinute:{standalone:"halbe Minute",withPreposition:"halben Minute"},lessThanXMinutes:{standalone:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"},withPreposition:{one:"weniger als 1 Minute",other:"weniger als {{count}} Minuten"}},xMinutes:{standalone:{one:"1 Minute",other:"{{count}} Minuten"},withPreposition:{one:"1 Minute",other:"{{count}} Minuten"}},aboutXHours:{standalone:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"},withPreposition:{one:"etwa 1 Stunde",other:"etwa {{count}} Stunden"}},xHours:{standalone:{one:"1 Stunde",other:"{{count}} Stunden"},withPreposition:{one:"1 Stunde",other:"{{count}} Stunden"}},xDays:{standalone:{one:"1 Tag",other:"{{count}} Tage"},withPreposition:{one:"1 Tag",other:"{{count}} Tagen"}},aboutXWeeks:{standalone:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"},withPreposition:{one:"etwa 1 Woche",other:"etwa {{count}} Wochen"}},xWeeks:{standalone:{one:"1 Woche",other:"{{count}} Wochen"},withPreposition:{one:"1 Woche",other:"{{count}} Wochen"}},aboutXMonths:{standalone:{one:"etwa 1 Monat",other:"etwa {{count}} Monate"},withPreposition:{one:"etwa 1 Monat",other:"etwa {{count}} Monaten"}},xMonths:{standalone:{one:"1 Monat",other:"{{count}} Monate"},withPreposition:{one:"1 Monat",other:"{{count}} Monaten"}},aboutXYears:{standalone:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahre"},withPreposition:{one:"etwa 1 Jahr",other:"etwa {{count}} Jahren"}},xYears:{standalone:{one:"1 Jahr",other:"{{count}} Jahre"},withPreposition:{one:"1 Jahr",other:"{{count}} Jahren"}},overXYears:{standalone:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahre"},withPreposition:{one:"mehr als 1 Jahr",other:"mehr als {{count}} Jahren"}},almostXYears:{standalone:{one:"fast 1 Jahr",other:"fast {{count}} Jahre"},withPreposition:{one:"fast 1 Jahr",other:"fast {{count}} Jahren"}}},Mr=function(n,a,e){var t,o=e!=null&&e.addSuffix?Le[n].withPreposition:Le[n].standalone;return typeof o=="string"?t=o:a===1?t=o.one:t=o.other.replace("{{count}}",String(a)),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+t:"vor "+t:t},Tr={full:"EEEE, do MMMM y",long:"do MMMM y",medium:"do MMM y",short:"dd.MM.y"},Ar={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Er={full:"{{date}} 'um' {{time}}",long:"{{date}} 'um' {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},Dr={date:se({formats:Tr,defaultWidth:"full"}),time:se({formats:Ar,defaultWidth:"full"}),dateTime:se({formats:Er,defaultWidth:"full"})},_r={lastWeek:"'letzten' eeee 'um' p",yesterday:"'gestern um' p",today:"'heute um' p",tomorrow:"'morgen um' p",nextWeek:"eeee 'um' p",other:"P"},Ir=function(n,a,e,t){return _r[n]},Cr={narrow:["v.Chr.","n.Chr."],abbreviated:["v.Chr.","n.Chr."],wide:["vor Christus","nach Christus"]},Lr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1. Quartal","2. Quartal","3. Quartal","4. Quartal"]},me={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],wide:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},Rr={narrow:me.narrow,abbreviated:["Jan.","Feb.","März","Apr.","Mai","Juni","Juli","Aug.","Sep.","Okt.","Nov.","Dez."],wide:me.wide},Or={narrow:["S","M","D","M","D","F","S"],short:["So","Mo","Di","Mi","Do","Fr","Sa"],abbreviated:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],wide:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},Fr={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachm.",evening:"Abend",night:"Nacht"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"Morgen",afternoon:"Nachmittag",evening:"Abend",night:"Nacht"}},Wr={narrow:{am:"vm.",pm:"nm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachm.",evening:"abends",night:"nachts"},abbreviated:{am:"vorm.",pm:"nachm.",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"},wide:{am:"vormittags",pm:"nachmittags",midnight:"Mitternacht",noon:"Mittag",morning:"morgens",afternoon:"nachmittags",evening:"abends",night:"nachts"}},zr=function(n){var a=Number(n);return a+"."},Nr={ordinalNumber:zr,era:F({values:Cr,defaultWidth:"wide"}),quarter:F({values:Lr,defaultWidth:"wide",argumentCallback:function(n){return n-1}}),month:F({values:me,formattingValues:Rr,defaultWidth:"wide"}),day:F({values:Or,defaultWidth:"wide"}),dayPeriod:F({values:Fr,defaultWidth:"wide",formattingValues:Wr,defaultFormattingWidth:"wide"})},Hr=/^(\d+)(\.)?/i,Ur=/\d+/i,Jr={narrow:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,abbreviated:/^(v\.? ?Chr\.?|n\.? ?Chr\.?)/i,wide:/^(vor Christus|vor unserer Zeitrechnung|nach Christus|unserer Zeitrechnung)/i},Br={any:[/^v/i,/^n/i]},qr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](\.)? Quartal/i},Vr={any:[/1/i,/2/i,/3/i,/4/i]},$r={narrow:/^[jfmasond]/i,abbreviated:/^(j[aä]n|feb|mär[z]?|apr|mai|jun[i]?|jul[i]?|aug|sep|okt|nov|dez)\.?/i,wide:/^(januar|februar|märz|april|mai|juni|juli|august|september|oktober|november|dezember)/i},Yr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^j[aä]/i,/^f/i,/^mär/i,/^ap/i,/^mai/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qr={narrow:/^[smdmf]/i,short:/^(so|mo|di|mi|do|fr|sa)/i,abbreviated:/^(son?|mon?|die?|mit?|don?|fre?|sam?)\.?/i,wide:/^(sonntag|montag|dienstag|mittwoch|donnerstag|freitag|samstag)/i},Xr={any:[/^so/i,/^mo/i,/^di/i,/^mi/i,/^do/i,/^f/i,/^sa/i]},Gr={narrow:/^(vm\.?|nm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,abbreviated:/^(vorm\.?|nachm\.?|Mitternacht|Mittag|morgens|nachm\.?|abends|nachts)/i,wide:/^(vormittags|nachmittags|Mitternacht|Mittag|morgens|nachmittags|abends|nachts)/i},Kr={any:{am:/^v/i,pm:/^n/i,midnight:/^Mitte/i,noon:/^Mitta/i,morning:/morgens/i,afternoon:/nachmittags/i,evening:/abends/i,night:/nachts/i}},Zr={ordinalNumber:yr({matchPattern:Hr,parsePattern:Ur,valueCallback:function(n){return parseInt(n)}}),era:W({matchPatterns:Jr,defaultMatchWidth:"wide",parsePatterns:Br,defaultParseWidth:"any"}),quarter:W({matchPatterns:qr,defaultMatchWidth:"wide",parsePatterns:Vr,defaultParseWidth:"any",valueCallback:function(n){return n+1}}),month:W({matchPatterns:$r,defaultMatchWidth:"wide",parsePatterns:Yr,defaultParseWidth:"any"}),day:W({matchPatterns:Qr,defaultMatchWidth:"wide",parsePatterns:Xr,defaultParseWidth:"any"}),dayPeriod:W({matchPatterns:Gr,defaultMatchWidth:"wide",parsePatterns:Kr,defaultParseWidth:"any"})},en={code:"de",formatDistance:Mr,formatLong:Dr,formatRelative:Ir,localize:Nr,match:Zr,options:{weekStartsOn:1,firstWeekContainsDate:4}};const tn=et({palette:{primary:{main:"#1565C0",light:"#1976D2",dark:"#0D47A1"},secondary:{main:"#FF6F00",light:"#FFB300",dark:"#E65100"},success:{main:"#4CAF50"},warning:{main:"#FF9800"},error:{main:"#F44336"},background:{default:"#F5F5F5",paper:"#FFFFFF"}},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontWeight:600},h2:{fontWeight:600},h3:{fontWeight:600},h4:{fontWeight:600},h5:{fontWeight:500},h6:{fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiCard:{defaultProps:{elevation:1}},MuiPaper:{defaultProps:{elevation:1}}}}),$={BASE_URL:"/",DEV:!1,MODE:"development",PROD:!0,SSR:!1,VITE_API_BASE_URL:"/api"},fe=new Map,B=s=>{const n=fe.get(s);return n?Object.fromEntries(Object.entries(n.stores).map(([a,e])=>[a,e.getState()])):{}},rn=(s,n,a)=>{if(s===void 0)return{type:"untracked",connection:n.connect(a)};const e=fe.get(a.name);if(e)return{type:"tracked",store:s,...e};const t={connection:n.connect(a),stores:{}};return fe.set(a.name,t),{type:"tracked",store:s,...t}},nn=(s,n={})=>(a,e,t)=>{const{enabled:o,anonymousActionType:f,store:i,...d}=n;let c;try{c=(o??($?"development":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return($?"development":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),s(a,e,t);const{connection:p,...v}=rn(i,c,d);let x=!0;t.setState=(l,m,g)=>{const h=a(l,m);if(!x)return h;const P=g===void 0?{type:f||"anonymous"}:typeof g=="string"?{type:g}:g;return i===void 0?(p?.send(P,e()),h):(p?.send({...P,type:`${i}/${P.type}`},{...B(d.name),[i]:t.getState()}),h)};const y=(...l)=>{const m=x;x=!1,a(...l),x=m},k=s(t.setState,e,t);if(v.type==="untracked"?p?.init(k):(v.stores[v.store]=t,p?.init(Object.fromEntries(Object.entries(v.stores).map(([l,m])=>[l,l===v.store?k:m.getState()])))),t.dispatchFromDevtools&&typeof t.dispatch=="function"){let l=!1;const m=t.dispatch;t.dispatch=(...g)=>{($?"development":void 0)!=="production"&&g[0].type==="__setState"&&!l&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),l=!0),m(...g)}}return p.subscribe(l=>{var m;switch(l.type){case"ACTION":if(typeof l.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return oe(l.payload,g=>{if(g.type==="__setState"){if(i===void 0){y(g.state);return}Object.keys(g.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const h=g.state[i];if(h==null)return;JSON.stringify(t.getState())!==JSON.stringify(h)&&y(h);return}t.dispatchFromDevtools&&typeof t.dispatch=="function"&&t.dispatch(g)});case"DISPATCH":switch(l.payload.type){case"RESET":return y(k),i===void 0?p?.init(t.getState()):p?.init(B(d.name));case"COMMIT":if(i===void 0){p?.init(t.getState());return}return p?.init(B(d.name));case"ROLLBACK":return oe(l.state,g=>{if(i===void 0){y(g),p?.init(t.getState());return}y(g[i]),p?.init(B(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return oe(l.state,g=>{if(i===void 0){y(g);return}JSON.stringify(t.getState())!==JSON.stringify(g[i])&&y(g[i])});case"IMPORT_STATE":{const{nextLiftedState:g}=l.payload,h=(m=g.computedStates.slice(-1)[0])==null?void 0:m.state;if(!h)return;y(i===void 0?h:h[i]),p?.send(null,g);return}case"PAUSE_RECORDING":return x=!x}return}}),k},an=nn,oe=(s,n)=>{let a;try{a=JSON.parse(s)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}a!==void 0&&n(a)};function sn(s,n){let a;try{a=s()}catch{return}return{getItem:t=>{var o;const f=d=>d===null?null:JSON.parse(d,void 0),i=(o=a.getItem(t))!=null?o:null;return i instanceof Promise?i.then(f):f(i)},setItem:(t,o)=>a.setItem(t,JSON.stringify(o,void 0)),removeItem:t=>a.removeItem(t)}}const U=s=>n=>{try{const a=s(n);return a instanceof Promise?a:{then(e){return U(e)(a)},catch(e){return this}}}catch(a){return{then(e){return this},catch(e){return U(e)(a)}}}},on=(s,n)=>(a,e,t)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:m=>m,version:0,merge:(m,g)=>({...g,...m}),...n},f=!1;const i=new Set,d=new Set;let c;try{c=o.getStorage()}catch{}if(!c)return s((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...m)},e,t);const p=U(o.serialize),v=()=>{const m=o.partialize({...e()});let g;const h=p({state:m,version:o.version}).then(P=>c.setItem(o.name,P)).catch(P=>{g=P});if(g)throw g;return h},x=t.setState;t.setState=(m,g)=>{x(m,g),v()};const y=s((...m)=>{a(...m),v()},e,t);let k;const l=()=>{var m;if(!c)return;f=!1,i.forEach(h=>h(e()));const g=((m=o.onRehydrateStorage)==null?void 0:m.call(o,e()))||void 0;return U(c.getItem.bind(c))(o.name).then(h=>{if(h)return o.deserialize(h)}).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==o.version){if(o.migrate)return o.migrate(h.state,h.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return h.state}).then(h=>{var P;return k=o.merge(h,(P=e())!=null?P:y),a(k,!0),v()}).then(()=>{g?.(k,void 0),f=!0,d.forEach(h=>h(k))}).catch(h=>{g?.(void 0,h)})};return t.persist={setOptions:m=>{o={...o,...m},m.getStorage&&(c=m.getStorage())},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>l(),hasHydrated:()=>f,onHydrate:m=>(i.add(m),()=>{i.delete(m)}),onFinishHydration:m=>(d.add(m),()=>{d.delete(m)})},l(),k||y},ln=(s,n)=>(a,e,t)=>{let o={storage:sn(()=>localStorage),partialize:l=>l,version:0,merge:(l,m)=>({...m,...l}),...n},f=!1;const i=new Set,d=new Set;let c=o.storage;if(!c)return s((...l)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),a(...l)},e,t);const p=()=>{const l=o.partialize({...e()});return c.setItem(o.name,{state:l,version:o.version})},v=t.setState;t.setState=(l,m)=>{v(l,m),p()};const x=s((...l)=>{a(...l),p()},e,t);t.getInitialState=()=>x;let y;const k=()=>{var l,m;if(!c)return;f=!1,i.forEach(h=>{var P;return h((P=e())!=null?P:x)});const g=((m=o.onRehydrateStorage)==null?void 0:m.call(o,(l=e())!=null?l:x))||void 0;return U(c.getItem.bind(c))(o.name).then(h=>{if(h)if(typeof h.version=="number"&&h.version!==o.version){if(o.migrate)return[!0,o.migrate(h.state,h.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,h.state];return[!1,void 0]}).then(h=>{var P;const[S,Xe]=h;if(y=o.merge(Xe,(P=e())!=null?P:x),a(y,!0),S)return p()}).then(()=>{g?.(y,void 0),y=e(),f=!0,d.forEach(h=>h(y))}).catch(h=>{g?.(void 0,h)})};return t.persist={setOptions:l=>{o={...o,...l},l.storage&&(c=l.storage)},clearStorage:()=>{c?.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>k(),hasHydrated:()=>f,onHydrate:l=>(i.add(l),()=>{i.delete(l)}),onFinishHydration:l=>(d.add(l),()=>{d.delete(l)})},o.skipHydration||k(),y||x},cn=(s,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?(($?"development":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),on(s,n)):ln(s,n),un=cn;var $e=(s=>(s[s.DEBUG=0]="DEBUG",s[s.INFO=1]="INFO",s[s.WARN=2]="WARN",s[s.ERROR=3]="ERROR",s[s.NONE=4]="NONE",s))($e||{});class dn{constructor(n){L(this,"config");L(this,"isProduction");this.isProduction=!0,this.config={minLevel:this.isProduction?2:0,enableInProduction:!1,enableTimestamp:!this.isProduction,enableCaller:!this.isProduction,...n}}shouldLog(n){return this.isProduction&&!this.config.enableInProduction?n>=2:n>=this.config.minLevel}formatMessage(n,a,e){const t=[];return this.config.enableTimestamp&&t.push(`[${new Date().toISOString()}]`),t.push(`[${$e[n]}]`),a&&t.push(`[${a}]`),t.push(e),t.join(" ")}log(n,a,e,...t){if(!this.shouldLog(n))return;const o=this.formatMessage(n,a,e);switch(n){case 0:console.log(o,...t);break;case 1:console.info(o,...t);break;case 2:console.warn(o,...t);break;case 3:console.error(o,...t);break}}debug(n,a,...e){this.log(0,n,a,...e)}info(n,a,...e){this.log(1,n,a,...e)}warn(n,a,...e){this.log(2,n,a,...e)}error(n,a,e,...t){e instanceof Error?this.log(3,n,a,e.message,e.stack,...t):this.log(3,n,a,e,...t)}setLevel(n){this.config.minLevel=n}setProductionLogging(n){this.config.enableInProduction=n}}const u=new dn,Ye=s=>({debug:(n,...a)=>u.debug(s,n,...a),info:(n,...a)=>u.info(s,n,...a),warn:(n,...a)=>u.warn(s,n,...a),error:(n,a,...e)=>u.error(s,n,a,...e)}),Qe="/api";let Y=null;const I=s=>{Y=s,s?localStorage.setItem("csrf_token",s):localStorage.removeItem("csrf_token")},ye=()=>(Y||(Y=localStorage.getItem("csrf_token")),Y),_=pe.create({baseURL:Qe,timeout:15e3,headers:{"Content-Type":"application/json"},withCredentials:!0});let ie=!1,z=null,le=[];const ce=(s=null,n=!1)=>{u.debug("API","Processing queue",{queueLength:le.length,hasError:!!s,success:n}),le.forEach(a=>{s?a.reject(s):a.resolve(n)}),le=[],u.debug("API","Queue processed and cleared")},hn=async()=>ie&&z?(u.debug("API","Refresh already in progress, returning existing promise"),z):(ie=!0,u.debug("API","Starting token refresh..."),z=(async()=>{try{const s=await pe.post(`${Qe}/auth/refresh`,{},{withCredentials:!0,headers:{"Content-Type":"application/json","X-CSRF-TOKEN":ye()||""}});return s.data?.success?(s.data?.data?.csrf_token&&I(s.data.data.csrf_token),u.info("API","Token refreshed successfully"),ce(null,!0),!0):(u.error("API","Refresh response unsuccessful"),ce(new Error("Token refresh failed"),!1),!1)}catch(s){return u.error("API","Token refresh failed",s),ce(s instanceof Error?s:new Error("Token refresh failed"),!1),!1}finally{ie=!1,z=null}})(),z);_.interceptors.request.use(async s=>{const n=s.method?.toUpperCase(),a=s.url;if(u.debug("API",`Request: ${n} ${a}`),n&&["POST","PUT","DELETE","PATCH"].includes(n)){const t=ye();t&&(s.headers||(s.headers={}),s.headers["X-CSRF-TOKEN"]=t,u.debug("API","CSRF token attached to request"))}return s},s=>(u.error("API","Request interceptor error",s),Promise.reject(s)));_.interceptors.response.use(s=>{const n=s.config.method?.toUpperCase(),a=s.config.url,e=s.status;return u.debug("API",`Response: ${n} ${a} [${e}]`),s},async s=>{const n=s.config,a=n?.method?.toUpperCase(),e=n?.url,t=s.response?.status;if(u.error("API",`Error: ${a} ${e} [${t}]`),t===401&&n&&!n._retry){if(u.warn("API","401 Unauthorized - attempting token refresh"),e?.includes("/auth/refresh")||e?.includes("/auth/login"))return u.error("API","Auth endpoint failed - clearing session"),localStorage.removeItem("user"),localStorage.removeItem("csrf_token"),I(null),window.location.href="/login",Promise.reject(s);n._retry=!0;try{return u.debug("API","Attempting to refresh token for retry..."),await hn()?(u.info("API","Token refreshed, retrying request..."),_.request(n)):(u.error("API","Token refresh failed"),localStorage.removeItem("user"),localStorage.removeItem("csrf_token"),I(null),window.location.href="/login",Promise.reject(new Error("Token refresh failed")))}catch(o){return u.error("API","Token refresh in response interceptor failed",o),localStorage.removeItem("user"),localStorage.removeItem("csrf_token"),I(null),window.location.href="/login",Promise.reject(o)}}return t===403?u.error("API","403 Forbidden - No permission"):t===404?u.error("API","404 Not Found"):t===500&&u.error("API","500 Server Error"),Promise.reject(s)});const q=s=>{if(pe.isAxiosError(s)){const n=s.response?.data;if(n?.message)return n.message;if(n?.errors?.[0])return n.errors[0];switch(s.response?.status){case 401:return"Nicht autorisiert - Bitte erneut anmelden";case 403:return"Keine Berechtigung für diese Aktion";case 404:return"Ressource nicht gefunden";case 500:return"Serverfehler - Bitte später erneut versuchen";default:return s.message||"Ein unerwarteter Fehler ist aufgetreten"}}return s instanceof Error?s.message:"Ein unerwarteter Fehler ist aufgetreten"};class mn{async login(n){try{u.info("AuthService","Attempting login for",n.username);const e=(await _.post("/auth/login",n)).data;return u.debug("AuthService","Response received",{success:e.success,hasData:!!e.data,hasUser:!!e.data?.user}),e.success&&e.data?(localStorage.setItem("user",JSON.stringify(e.data.user)),e.data.csrf_token&&(I(e.data.csrf_token),u.debug("AuthService","CSRF token stored")),u.info("AuthService","Login successful"),u.debug("AuthService","User logged in",{username:e.data.user.username,rolle:e.data.user.rolle})):u.error("AuthService","Login failed - no data in response"),e}catch(a){throw u.error("AuthService","Login error",a),new Error(q(a))}}async logout(){try{u.info("AuthService","Logging out..."),await _.post("/auth/logout"),u.info("AuthService","Logout API call successful")}catch(n){u.warn("AuthService","Logout API error (continuing anyway)",n)}finally{localStorage.removeItem("user"),I(null),u.info("AuthService","Local storage cleared"),window.location.href="/login"}}getCurrentUser(){const n=localStorage.getItem("user");if(!n)return u.debug("AuthService","No user in localStorage"),null;try{const a=JSON.parse(n);return u.debug("AuthService","User loaded from localStorage",a.username),a}catch(a){return u.error("AuthService","Error parsing user",a),null}}isAuthenticated(){const n=this.getCurrentUser(),a=!!ye(),e=!!n&&a;return u.debug("AuthService","Authentication check",{hasUser:!!n,hasCsrfToken:a,isAuthenticated:e}),e}async getProfile(){try{u.info("AuthService","Fetching profile...");const n=await _.get("/auth/profile");return n.data.success&&n.data.data&&(localStorage.setItem("user",JSON.stringify(n.data.data.user)),u.info("AuthService","Profile updated")),n.data}catch(n){throw u.error("AuthService","Get profile error",n),new Error(q(n))}}async updateProfile(n){try{u.info("AuthService","Updating profile...");const a=await _.put("/auth/profile",n);return a.data.success&&a.data.data&&(localStorage.setItem("user",JSON.stringify(a.data.data.user)),u.info("AuthService","Profile updated")),a.data}catch(a){throw u.error("AuthService","Update profile error",a),new Error(q(a))}}async changePassword(n){try{u.info("AuthService","Changing password...");const a=await _.post("/auth/change-password",n);return u.info("AuthService","Password changed"),a.data}catch(a){throw u.error("AuthService","Change password error",a),new Error(q(a))}}async verifyToken(){try{u.debug("AuthService","Verifying token via cookie...");const a=(await _.get("/auth/verify")).data.success;return u.debug("AuthService","Token verification",{isValid:a}),a}catch(n){return u.error("AuthService","Token verification failed",n),!1}}async refreshToken(){try{u.debug("AuthService","Refreshing token via cookie...");const n=await _.post("/auth/refresh",{});return n.data.success?(n.data.data?.csrf_token&&I(n.data.data.csrf_token),u.info("AuthService","Token refreshed successfully"),!0):(u.error("AuthService","Refresh failed"),!1)}catch(n){return u.error("AuthService","Token refresh error",n),!1}}hasRole(n){return this.getCurrentUser()?.rolle===n}isDekan(){return this.hasRole("dekan")}isProfessor(){return this.hasRole("professor")}isLehrbeauftragter(){return this.hasRole("lehrbeauftragter")}isDozent(){return this.isProfessor()||this.isLehrbeauftragter()}}const N=new mn,b=Ye("AuthStore"),Q=Ve()(an(un((s,n)=>({user:null,isAuthenticated:!1,isLoading:!1,error:null,login:async a=>{b.debug("Starting login..."),s({isLoading:!0,error:null});try{const e=await N.login(a);e.success&&e.data?(b.info("Login successful"),s({user:e.data.user,isAuthenticated:!0,isLoading:!1,error:null}),b.debug("User stored in localStorage, tokens in httpOnly cookies")):(b.error("Login failed",e.message),s({user:null,isAuthenticated:!1,isLoading:!1,error:e.message||"Login fehlgeschlagen"}))}catch(e){const t=e instanceof Error?e.message:"Ein Fehler ist aufgetreten";throw b.error("Login error",e),s({user:null,isAuthenticated:!1,isLoading:!1,error:t}),e}},logout:async()=>{b.debug("Logging out..."),s({isLoading:!0});try{await N.logout(),b.info("Logout successful")}catch(a){b.warn("Logout error (continuing anyway)",a)}finally{try{const a=[];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&t.startsWith("planung_wizard_backup_user_")&&a.push(t)}a.forEach(e=>{localStorage.removeItem(e),b.debug(`Cleared planning data: ${e}`)})}catch(a){b.warn("Error cleaning up planning data",a)}localStorage.removeItem("user"),I(null),s({user:null,isAuthenticated:!1,isLoading:!1,error:null})}},checkAuth:async()=>{b.debug("Checking authentication...");const a=N.getCurrentUser();if(!a){b.debug("No user in localStorage"),s({user:null,isAuthenticated:!1,isLoading:!1});return}b.debug(`User found: ${a.username} | ${a.rolle}`),s({user:a,isAuthenticated:!0,isLoading:!1});try{b.debug("Verifying token in background..."),await N.verifyToken()?b.debug("Token is valid"):(b.warn("Token verification failed"),b.debug("Attempting token refresh..."),await N.refreshToken()?b.info("Token refreshed successfully"):(b.error("Token refresh failed - logging out"),localStorage.removeItem("user"),I(null),s({user:null,isAuthenticated:!1,isLoading:!1}),window.location.href="/login"))}catch(e){b.warn("Token verification error",e)}},updateUser:a=>{b.debug("Updating user data...");const e=n().user;if(e){const t={...e,...a};s({user:t}),localStorage.setItem("user",JSON.stringify(t)),b.debug("User data updated")}else b.warn("Cannot update user - no user logged in")},clearError:()=>{b.debug("Clearing error"),s({error:null})},setLoading:a=>{s({isLoading:a})}}),{name:"auth-storage",partialize:s=>({user:s.user,isAuthenticated:s.isAuthenticated})}),{name:"AuthStore"})),fn=Ye("Layout"),C=240,gn=()=>{const s=tt(),n=rt(s.breakpoints.down("md")),a=Be(),e=qe(),{user:t,logout:o}=Q(),[f,i]=D.useState(!1),[d,c]=D.useState(null),p=j.useMemo(()=>S=>t?typeof t.rolle=="string"?t.rolle===S:t.rolle?.name===S:!1,[t]),x=(()=>{const S=[{title:"Dashboard",path:"/dashboard",icon:r.jsx(ft,{})}];return p("dekan")?[...S,{title:"Semesterplanung",path:"/dekan/planungen",icon:r.jsx(ke,{}),roles:["dekan"]},{title:"Deputat-Verwaltung",path:"/dekan/deputat",icon:r.jsx(ct,{}),roles:["dekan"]},{title:"Module",path:"/module",icon:r.jsx(ue,{})},{title:"Modulhandbücher",path:"/modulhandbuecher",icon:r.jsx(ut,{})},{title:"Dozenten",path:"/dozenten",icon:r.jsx(dt,{})}]:p("professor")||p("lehrbeauftragter")?[...S,{title:"Semesterplanung",path:"/semesterplanung",icon:r.jsx(ke,{})},{title:"Deputatsabrechnung",path:"/deputatsabrechnung",icon:r.jsx(ht,{})},{title:"Templates",path:"/templates",icon:r.jsx(mt,{})},{title:"Module",path:"/module",icon:r.jsx(ue,{})}]:S})(),y=()=>{i(!f)},k=S=>{c(S.currentTarget)},l=()=>{c(null)},m=async()=>{try{await o(),a("/login")}catch(S){fn.error("Logout error:",S)}},g=S=>{a(S),n&&i(!1)},h=()=>t?typeof t.rolle=="string"?t.rolle:t.rolle?.name||"":"",P=r.jsxs(E,{children:[r.jsxs(ve,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx(A,{variant:"h6",noWrap:!0,component:"div",sx:{fontWeight:600},children:"DekaNet"}),n&&r.jsx(V,{onClick:y,children:r.jsx(nt,{})})]}),r.jsx(X,{}),r.jsx(xe,{children:x.map(S=>r.jsx(we,{disablePadding:!0,children:r.jsxs(be,{selected:e.pathname===S.path,onClick:()=>g(S.path),children:[r.jsx(R,{children:S.icon}),r.jsx(Se,{primary:S.title})]})},S.path))}),r.jsx(X,{}),r.jsx(xe,{children:r.jsx(we,{disablePadding:!0,children:r.jsxs(be,{onClick:()=>g("/einstellungen"),children:[r.jsx(R,{children:r.jsx(Pe,{})}),r.jsx(Se,{primary:"Einstellungen"})]})})})]});return r.jsxs(E,{sx:{display:"flex"},children:[r.jsx(at,{position:"fixed",sx:{width:{md:`calc(100% - ${C}px)`},ml:{md:`${C}px`}},children:r.jsxs(ve,{children:[r.jsx(V,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:y,sx:{mr:2,display:{md:"none"}},children:r.jsx(st,{})}),r.jsx(A,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:x.find(S=>S.path===e.pathname)?.title||"Dashboard"}),r.jsxs(E,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsxs(E,{sx:{display:{xs:"none",sm:"block"}},children:[r.jsx(A,{variant:"body2",children:t?.name_komplett||t?.username}),r.jsx(A,{variant:"caption",color:"inherit",sx:{opacity:.8},children:h()})]}),r.jsx(ot,{title:"Account Menü",children:r.jsx(V,{onClick:k,sx:{p:0},children:r.jsx(ze,{sx:{bgcolor:"secondary.main"},children:t?.vorname?.charAt(0)||t?.username?.charAt(0)||"U"})})})]}),r.jsxs(it,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!d,onClose:l,children:[r.jsxs(G,{onClick:()=>{l(),a("/profil")},children:[r.jsx(R,{children:r.jsx(Ne,{fontSize:"small"})}),r.jsx(A,{textAlign:"center",children:"Profil"})]}),r.jsxs(G,{onClick:()=>{l(),a("/einstellungen")},children:[r.jsx(R,{children:r.jsx(Pe,{fontSize:"small"})}),r.jsx(A,{textAlign:"center",children:"Einstellungen"})]}),r.jsx(X,{}),r.jsxs(G,{onClick:()=>{l(),m()},children:[r.jsx(R,{children:r.jsx(lt,{fontSize:"small"})}),r.jsx(A,{textAlign:"center",children:"Abmelden"})]})]})]})}),r.jsxs(E,{component:"nav",sx:{width:{md:C},flexShrink:{md:0}},children:[r.jsx(je,{variant:"temporary",open:f,onClose:y,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:C}},children:P}),r.jsx(je,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:C}},open:!0,children:P})]}),r.jsx(E,{component:"main",sx:{flexGrow:1,p:3,width:{md:`calc(100% - ${C}px)`},mt:"64px",minHeight:"calc(100vh - 64px)",backgroundColor:"background.default"},children:r.jsx(Mt,{})})]})},T=({children:s,requiredRoles:n=[],redirectTo:a="/login"})=>{const e=qe(),{isAuthenticated:t,user:o,isLoading:f,checkAuth:i}=Q(),d=j.useMemo(()=>o?typeof o.rolle=="string"?o.rolle:o.rolle?.name||"":"",[o]);return D.useEffect(()=>{t||i()},[i,t]),f?r.jsx(E,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:r.jsx(ge,{size:48})}):!t||!o?r.jsx(H,{to:a,state:{from:e},replace:!0}):n.length>0&&!n.includes(d)?r.jsx(H,{to:"/dashboard",replace:!0}):r.jsx(r.Fragment,{children:s})},pn=Ve(s=>({open:!1,message:"",severity:"info",showToast:(n,a="info")=>s({open:!0,message:n,severity:a}),hideToast:()=>s({open:!1})})),yn=()=>{const{open:s,message:n,severity:a,hideToast:e}=pn();return r.jsx(gt,{open:s,autoHideDuration:6e3,onClose:e,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(He,{onClose:e,severity:a,sx:{width:"100%"},children:n})})};class vn extends D.Component{constructor(){super(...arguments);L(this,"state",{hasError:!1,error:null});L(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.href="/"})}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,e){console.error("Uncaught error:",a,e)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:r.jsx(E,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",p:3},children:r.jsxs(Ue,{sx:{p:4,maxWidth:500,textAlign:"center"},children:[r.jsx(pt,{color:"error",sx:{fontSize:64,mb:2}}),r.jsx(A,{variant:"h5",gutterBottom:!0,children:"Etwas ist schiefgelaufen"}),r.jsx(A,{color:"text.secondary",sx:{mb:3},children:this.state.error?.message||"Ein unerwarteter Fehler ist aufgetreten"}),r.jsx(Je,{variant:"contained",onClick:this.handleReset,children:"Zur Startseite"})]})}):this.props.children}}function xn(s,n="Ein Fehler ist aufgetreten"){return s instanceof Error?s.message:typeof s=="string"?s:s&&typeof s=="object"&&"message"in s?String(s.message):n}const wn=()=>{const s=Be(),{login:n,isAuthenticated:a,isLoading:e,error:t,clearError:o}=Q(),[f,i]=D.useState(""),[d,c]=D.useState(""),[p,v]=D.useState(!1),[x,y]=D.useState("");D.useEffect(()=>{a&&s("/dashboard")},[a,s]),D.useEffect(()=>()=>{o()},[o]);const k=async l=>{if(l.preventDefault(),y(""),!f.trim()){y("Bitte geben Sie Ihren Benutzernamen ein");return}if(!d){y("Bitte geben Sie Ihr Passwort ein");return}try{await n({username:f.trim(),password:d})}catch(m){y(xn(m,"Login fehlgeschlagen"))}};return r.jsx(E,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #1565C0 0%, #0D47A1 100%)",padding:2},children:r.jsx(yt,{component:"main",maxWidth:"xs",children:r.jsxs(Ue,{elevation:6,sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(10px)",borderRadius:2},children:[r.jsx(ze,{sx:{m:1,bgcolor:"primary.main",width:56,height:56},children:r.jsx(ue,{fontSize:"large"})}),r.jsx(A,{component:"h1",variant:"h4",sx:{mb:1,fontWeight:600},children:"DekaNet"}),r.jsx(A,{variant:"body2",color:"text.secondary",sx:{mb:3,textAlign:"center"},children:"Semesterplanung und Modulverwaltung"}),(t||x)&&r.jsx(He,{severity:"error",sx:{width:"100%",mb:2},onClose:()=>{o(),y("")},children:t||x}),r.jsxs(E,{component:"form",onSubmit:k,sx:{width:"100%"},children:[r.jsx(Me,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Benutzername oder E-Mail",name:"username",autoComplete:"username",autoFocus:!0,value:f,onChange:l=>i(l.target.value),disabled:e,InputProps:{startAdornment:r.jsx(K,{position:"start",children:r.jsx(Ne,{color:"action"})})}}),r.jsx(Me,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Passwort",type:p?"text":"password",id:"password",autoComplete:"current-password",value:d,onChange:l=>c(l.target.value),disabled:e,InputProps:{startAdornment:r.jsx(K,{position:"start",children:r.jsx(wt,{color:"action"})}),endAdornment:r.jsx(K,{position:"end",children:r.jsx(V,{"aria-label":"Passwort anzeigen",onClick:()=>v(!p),edge:"end",disabled:e,children:p?r.jsx(vt,{}):r.jsx(xt,{})})})}}),r.jsx(Je,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:3,mb:2,height:48,fontSize:"1rem",fontWeight:500},disabled:e,children:e?r.jsx(ge,{size:24,color:"inherit"}):"Anmelden"})]}),r.jsxs(E,{sx:{mt:3,textAlign:"center"},children:[r.jsx(A,{variant:"caption",color:"text.secondary",children:"© 2025 Digitales Dekanat"}),r.jsx(A,{variant:"caption",display:"block",color:"text.secondary",sx:{mt:1},children:"Bei Problemen wenden Sie sich an den Administrator"})]})]})})})},Re=j.lazy(()=>M(()=>import("./Dashboard-BWyazCM8.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),bn=j.lazy(()=>M(()=>import("./ProfessorDashboard-Dv3MExK0.js"),__vite__mapDeps([12,1,2,6,8,3,4,5]))),Sn=j.lazy(()=>M(()=>import("./Semesterplanung-CzJ8LfCe.js"),__vite__mapDeps([13,1,2,3,4,5,6,8]))),Oe=j.lazy(()=>M(()=>import("./WizardView-D_f3aRZy.js"),__vite__mapDeps([14,1,2,5,6,4,15,7,11,16,3]))),Fe=j.lazy(()=>M(()=>import("./SemesterplanungDetail-DDmRZa2S.js"),__vite__mapDeps([17,1,2,6,18,4]))),Pn=j.lazy(()=>M(()=>import("./DekanPlanungView-DDnQMUDQ.js"),__vite__mapDeps([19,1,2,6,8,10,3,4,5]))),We=j.lazy(()=>M(()=>import("./Module-DOhP1-gf.js"),__vite__mapDeps([20,1,2,18,10,4]))),jn=j.lazy(()=>M(()=>import("./Modulhandbuecher-DfBZ6Loa.js"),__vite__mapDeps([21,1,2,9,4]))),kn=j.lazy(()=>M(()=>import("./Dozenten-B13MmJWN.js"),__vite__mapDeps([22,1,2,10,4]))),Mn=j.lazy(()=>M(()=>import("./SemesterPage-CDQDJNRC.js"),__vite__mapDeps([23,1,2,8,4]))),Tn=j.lazy(()=>M(()=>import("./EinstellungenPage-CBwNIMXO.js"),__vite__mapDeps([24,1,2,7,4]))),An=j.lazy(()=>M(()=>import("./DeputatsabrechnungNeu-BZuB4Vrt.js"),__vite__mapDeps([25,1,2,26,5,18,7,4]))),En=j.lazy(()=>M(()=>import("./DeputatVerwaltung-DY4o6cC7.js"),__vite__mapDeps([27,1,2,26,5,4]))),Dn=j.lazy(()=>M(()=>import("./TemplateVerwaltung-Be1_lcZb.js"),__vite__mapDeps([28,1,2,16,6,4]))),_n=j.lazy(()=>M(()=>import("./TemplateDetail-CD6bb7NF.js"),__vite__mapDeps([29,1,2,16,15,4]))),In=()=>r.jsx(E,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:r.jsx(ge,{})}),Cn=()=>{const{checkAuth:s,user:n}=Q();D.useEffect(()=>{s()},[s]);const a=()=>n?.rolle==="dekan"?r.jsx(Re,{}):n?.rolle==="professor"||n?.rolle==="lehrbeauftragter"?r.jsx(bn,{}):r.jsx(Re,{});return r.jsx(vn,{children:r.jsxs(bt,{theme:tn,children:[r.jsx(St,{}),r.jsx(Pt,{dateAdapter:kr,adapterLocale:en,children:r.jsxs(Tt,{children:[r.jsx(yn,{}),r.jsx(D.Suspense,{fallback:r.jsx(In,{}),children:r.jsxs(At,{children:[r.jsx(w,{path:"/login",element:r.jsx(wn,{})}),r.jsxs(w,{path:"/",element:r.jsx(T,{children:r.jsx(gn,{})}),children:[r.jsx(w,{index:!0,element:r.jsx(H,{to:"/dashboard",replace:!0})}),r.jsx(w,{path:"dashboard",element:r.jsx(a,{})}),r.jsx(w,{path:"semesterplanung",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter"],children:r.jsx(Sn,{})})}),r.jsx(w,{path:"semesterplanung/neu",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter"],children:r.jsx(Oe,{})})}),r.jsx(w,{path:"semesterplanung/:id/edit",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter"],children:r.jsx(Oe,{})})}),r.jsx(w,{path:"semesterplanung/:id",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter","dekan"],children:r.jsx(Fe,{})})}),r.jsx(w,{path:"dekan/planungen",element:r.jsx(T,{requiredRoles:["dekan"],children:r.jsx(Pn,{})})}),r.jsx(w,{path:"dekan/planungen/:id",element:r.jsx(T,{requiredRoles:["dekan"],children:r.jsx(Fe,{})})}),r.jsx(w,{path:"dekan/auftraege",element:r.jsx(H,{to:"/einstellungen",replace:!0})}),r.jsx(w,{path:"dekan/deputat",element:r.jsx(T,{requiredRoles:["dekan"],children:r.jsx(En,{})})}),r.jsx(w,{path:"deputatsabrechnung",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter"],children:r.jsx(An,{})})}),r.jsx(w,{path:"templates",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter"],children:r.jsx(Dn,{})})}),r.jsx(w,{path:"templates/:id",element:r.jsx(T,{requiredRoles:["professor","lehrbeauftragter"],children:r.jsx(_n,{})})}),r.jsx(w,{path:"module",element:r.jsx(We,{})}),r.jsx(w,{path:"module/:id",element:r.jsx(We,{})}),r.jsx(w,{path:"modulhandbuecher",element:r.jsx(T,{requiredRoles:["dekan"],children:r.jsx(jn,{})})}),r.jsx(w,{path:"dozenten",element:r.jsx(kn,{})}),r.jsx(w,{path:"semester",element:r.jsx(T,{requiredRoles:["dekan"],children:r.jsx(Mn,{})})}),r.jsx(w,{path:"verwaltung/*",element:r.jsx(T,{requiredRoles:["dekan"],children:r.jsx("div",{children:"Verwaltung (TODO)"})})}),r.jsx(w,{path:"einstellungen",element:r.jsx(Tn,{})}),r.jsx(w,{path:"profil",element:r.jsx("div",{children:"Profil (TODO)"})})]}),r.jsx(w,{path:"*",element:r.jsx(H,{to:"/dashboard",replace:!0})})]})})]})})]})})};de.createRoot(document.getElementById("root")).render(r.jsx(j.StrictMode,{children:r.jsx(Cn,{})}));export{kr as A,_ as a,pn as b,Ye as c,u as d,an as e,xn as g,q as h,en as l,un as p,Q as u};
