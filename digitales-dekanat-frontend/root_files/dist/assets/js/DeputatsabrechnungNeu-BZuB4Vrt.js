import{j as e,N as de,B as p,z as ee,P as U,I as _,bj as Re,f as u,aw as M,ax as O,az as N,o as H,ab as ge,H as xe,l as Ve,K as m,bP as Ge,al as Ke,bQ as Ue,ae as $e,af as qe,ag as Ze,ah as d,ai as t,aj as Qe,U as fe,b3 as R,aY as V,aA as C,aD as Ye,aE as Je,aF as Xe,aG as je,O as h,a$ as en,b0 as pe,b6 as nn,aH as sn,aK as tn,ap as rn,a4 as an}from"./vendor-mui-BiVZR0IW.js";import{u as ln,i as cn,r as a}from"./vendor-react-CBtCGaWm.js";import{d as o,D as on,L as me,V as be,B as we,W as ze}from"./deputat.types-Cf-5gPQY.js";import{p as un}from"./planungPhaseService-9n5IcayC.js";import{m as hn}from"./modulService-OIZms_eT.js";import{a as dn}from"./auftragService-C7I9NqYc.js";import{b as gn,c as xn,g as W}from"./index-ChymPdOX.js";import"./vendor-utils-DTv3oRQQ.js";const $=xn("DeputatsabrechnungNeu"),fn={montag:"Mo",dienstag:"Di",mittwoch:"Mi",donnerstag:"Do",freitag:"Fr"},G=({title:q,sws:A,colSpan:i})=>e.jsx(d,{sx:{bgcolor:"#f5f5f5"},children:e.jsxs(t,{colSpan:i,sx:{fontWeight:600,py:1.5,borderBottom:"2px solid #e0e0e0"},children:[q,A!==void 0&&e.jsxs(u,{component:"span",sx:{float:"right",color:"text.secondary"},children:[A," SWS"]})]})}),yn=()=>{const q=ln(),{planungsphaseId:A}=cn(),i=gn(n=>n.showToast),[ve,ne]=a.useState(!0),[se,te]=a.useState(!1),[re,ae]=a.useState(!1),[r,le]=a.useState(null),[Se,ke]=a.useState([]),[v,ie]=a.useState(A?parseInt(A):null),[ye,_e]=a.useState([]),[Ce,We]=a.useState([]),[Ae,ce]=a.useState(!1),[f,oe]=a.useState(null),[E,ue]=a.useState(null),[F,he]=a.useState(null),[Z,Q]=a.useState([]),[j,y]=a.useState({bezeichnung:"",sws:0,kategorie:"lehrveranstaltung",wochentage:[],ist_block:!1}),[S,K]=a.useState({fachbereich:"",fach:"",sws:0}),[b,I]=a.useState({art:"praxissemester",vertretene_person:"",fach_professor:"",sws:0}),[T,Y]=a.useState({bezeichnung:"",sws:0}),[w,B]=a.useState({student_name:"",student_vorname:"",betreuungsart:"bachelor",titel_arbeit:"",status:"laufend",beginn_datum:"",ende_datum:""});a.useEffect(()=>{(async()=>{try{const s=await un.getAllPhases(),l=s.phasen||[];if(ke(l),!v&&l.length>0){const z=s.aktive_phase||l.find(He=>He.ist_aktiv);z&&ie(z.id)}}catch(s){$.error("Error loading planungsphasen:",s)}})()},[]),a.useEffect(()=>{(async()=>{try{const s=await hn.getAllModule();_e(s||[])}catch(s){$.error("Error loading module:",s)}})()},[]),a.useEffect(()=>{(async()=>{try{const s=await dn.getAlleAuftraege();We(s||[])}catch(s){$.error("Error loading auftraege:",s)}})()},[]),a.useEffect(()=>{v&&P()},[v]);const P=a.useCallback(async()=>{if(v)try{ne(!0);const n=await o.getOrCreateAbrechnung({planungsphase_id:v});le(n)}catch(n){$.error("Error loading abrechnung:",n),i("Fehler beim Laden der Abrechnung","error")}finally{ne(!1)}},[v,i]),Ee=async()=>{if(r)try{te(!0);const n=await o.syncAbrechnung(r.id);le(n.data);const{planung:s,auftraege:l}=n.sync_result;s.hinzugefuegt+s.aktualisiert+l.hinzugefuegt+l.aktualisiert>0?i(`Synchronisiert: ${s.hinzugefuegt+l.hinzugefuegt} hinzugefuegt`,"success"):i("Bereits synchronisiert","info")}catch(n){i(W(n,"Fehler bei der Synchronisation"),"error")}finally{te(!1)}},Fe=async()=>{if(r&&confirm("Abrechnung wirklich einreichen?"))try{await o.einreichen(r.id),await P(),i("Abrechnung eingereicht","success")}catch(n){i(W(n,"Fehler beim Einreichen"),"error")}},Ie=async()=>{if(r&&confirm("Abrechnung zuruecksetzen?"))try{await o.zuruecksetzen(r.id),await P(),i("Zurueckgesetzt","success")}catch(n){i(W(n,"Fehler"),"error")}},Te=async()=>{if(r)try{ae(!0),await o.downloadPdf(r.id),i("PDF heruntergeladen","success")}catch(n){i(W(n,"Fehler beim PDF-Export"),"error")}finally{ae(!1)}},L=n=>{oe(n),ue(null),he(null),Q([]),y({bezeichnung:"",sws:0,kategorie:"lehrveranstaltung",wochentage:[],ist_block:!1}),K({fachbereich:"",fach:"",sws:0}),I({art:"praxissemester",vertretene_person:"",fach_professor:"",sws:0}),Y({bezeichnung:"",sws:0}),B({student_name:"",student_vorname:"",betreuungsart:"bachelor",titel_arbeit:"",status:"laufend",beginn_datum:"",ende_datum:""}),ce(!0)},J=()=>{ce(!1),oe(null)},X=n=>n?n.display_name?n.display_name:n.bezeichnung_de?n.kuerzel?`${n.kuerzel} - ${n.bezeichnung_de}`:n.bezeichnung_de:n.name?n.name:n.kuerzel||"":"",Be=n=>{ue(n),y(n?{...j,bezeichnung:X(n),sws:n.sws_gesamt||n.sws||0}:{...j,bezeichnung:"",sws:0})},Pe=n=>{he(n),Y(n?{...T,bezeichnung:n.name,sws:n.standard_sws||0}:{...T,bezeichnung:"",sws:0})},Le=n=>{const s=n.target.value,l=typeof s=="string"?s.split(","):s;Q(l),y({...j,wochentage:l,ist_block:!1})},De=async()=>{if(!(!r||!f))try{switch(f){case"lehrtaetigkeit":if(!E){i("Bitte waehlen Sie ein Modul aus","error");return}await o.addLehrtaetigkeit(r.id,{...j,wochentage:Z});break;case"lehrexport":await o.addLehrexport(r.id,S);break;case"vertretung":await o.addVertretung(r.id,b);break;case"ermaessigung":if(!F){i("Bitte waehlen Sie eine Funktion aus","error");return}await o.addErmaessigung(r.id,T);break;case"betreuung":await o.addBetreuung(r.id,w);break}await P(),J(),i("Hinzugefuegt","success")}catch(n){i(W(n,"Fehler"),"error")}},D=async(n,s)=>{if(confirm("Eintrag loeschen?"))try{switch(n){case"lehrtaetigkeit":await o.deleteLehrtaetigkeit(s);break;case"lehrexport":await o.deleteLehrexport(s);break;case"vertretung":await o.deleteVertretung(s);break;case"ermaessigung":await o.deleteErmaessigung(s);break;case"betreuung":await o.deleteBetreuung(s);break}await P(),i("Geloescht","success")}catch(l){i(W(l,"Fehler"),"error")}},c=r?.summen,g=r&&o.kannBearbeitetWerden(r),Me=r&&o.kannEingereichtWerden(r),x=g?5:4,Oe=n=>{if(n.ist_block)return"Block";const s=n.wochentage||(n.wochentag?[n.wochentag]:[]);return s.length===0?"-":s.map(l=>fn[l]||l).join(", ")},Ne=()=>{switch(r?.status){case"genehmigt":return"success";case"eingereicht":return"info";case"abgelehnt":return"error";default:return"default"}},k=(()=>{if(!c)return{color:"default",icon:null,text:""};switch(c.bewertung){case"erfuellt":return{color:"success",icon:e.jsx(an,{fontSize:"small"}),text:"Erfuellt"};case"abweichung":return{color:"warning",icon:e.jsx(rn,{fontSize:"small"}),text:"Abweichung"};case"starke_abweichung":return{color:"error",icon:e.jsx(tn,{fontSize:"small"}),text:"Starke Abweichung"};default:return{color:"default",icon:null,text:""}}})();return ve&&!r?e.jsx(de,{maxWidth:"lg",sx:{mt:4},children:e.jsx(p,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px",children:e.jsx(ee,{})})}):e.jsxs(de,{maxWidth:"lg",sx:{mt:3,mb:4},children:[e.jsxs(U,{sx:{p:3,mb:3},children:[e.jsxs(p,{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:2,children:[e.jsxs(p,{display:"flex",alignItems:"center",gap:2,children:[e.jsx(_,{onClick:()=>q(-1),size:"small",children:e.jsx(Re,{})}),e.jsxs(p,{children:[e.jsx(u,{variant:"h5",fontWeight:"600",children:"Deputatsabrechnung"}),e.jsx(u,{variant:"body2",color:"text.secondary",children:"Fortschreibungsliste fuer durchgefuehrte Lehrveranstaltungen"})]})]}),e.jsxs(M,{size:"small",sx:{minWidth:250},children:[e.jsx(O,{children:"Planungsphase"}),e.jsx(N,{value:v||"",onChange:n=>ie(Number(n.target.value)),label:"Planungsphase",children:Se.map(n=>e.jsxs(H,{value:n.id,children:[n.name," ",n.ist_aktiv&&"(aktiv)"]},n.id))})]})]}),r&&e.jsxs(p,{mt:3,display:"flex",alignItems:"center",gap:2,flexWrap:"wrap",children:[e.jsx(ge,{label:on[r.status],color:Ne(),size:"small"}),e.jsxs(u,{variant:"body2",color:"text.secondary",children:["Gesamtdeputat: ",e.jsx("strong",{children:c?.gesamtdeputat||0})," / ",c?.netto_lehrverpflichtung||18," SWS"]}),c&&e.jsx(ge,{icon:k.icon||void 0,label:`Differenz: ${(c.differenz||0)>0?"+":""}${c.differenz||0} SWS`,color:k.color,variant:"outlined",size:"small"})]})]}),r?.status==="abgelehnt"&&r.ablehnungsgrund&&e.jsxs(xe,{severity:"error",sx:{mb:2},children:[e.jsx("strong",{children:"Ablehnungsgrund:"})," ",r.ablehnungsgrund]}),e.jsxs(U,{sx:{p:2,mb:2,display:"flex",gap:1,flexWrap:"wrap",alignItems:"center"},children:[g&&e.jsx(Ve,{title:"Mit Semesterplanung synchronisieren",children:e.jsx(m,{variant:"outlined",size:"small",startIcon:se?e.jsx(ee,{size:14}):e.jsx(Ge,{}),onClick:Ee,disabled:se,children:"Sync"})}),e.jsx(p,{sx:{flexGrow:1}}),Me&&e.jsx(m,{variant:"contained",size:"small",startIcon:e.jsx(Ke,{}),onClick:Fe,children:"Einreichen"}),r?.status==="abgelehnt"&&e.jsx(m,{variant:"outlined",size:"small",onClick:Ie,children:"Zur Bearbeitung"}),e.jsx(m,{variant:"outlined",size:"small",startIcon:re?e.jsx(ee,{size:14}):e.jsx(Ue,{}),onClick:Te,disabled:re,children:"PDF"})]}),e.jsx($e,{component:U,children:e.jsxs(qe,{size:"small",children:[e.jsx(Ze,{children:e.jsxs(d,{sx:{bgcolor:"#424242"},children:[e.jsx(t,{sx:{color:"white",fontWeight:600},children:"Bezeichnung"}),e.jsx(t,{align:"center",sx:{color:"white",fontWeight:600,width:80},children:"SWS"}),e.jsx(t,{align:"center",sx:{color:"white",fontWeight:600,width:100},children:"Tage"}),e.jsx(t,{align:"center",sx:{color:"white",fontWeight:600,width:90},children:"Quelle"}),g&&e.jsx(t,{align:"center",sx:{color:"white",width:50}})]})}),e.jsxs(Qe,{children:[e.jsxs(d,{children:[e.jsx(t,{sx:{fontWeight:600},children:"Netto-Lehrverpflichtung"}),e.jsx(t,{align:"center",sx:{fontWeight:600},children:c?.netto_lehrverpflichtung||18}),e.jsx(t,{colSpan:x-2})]}),e.jsx(G,{title:"1. Lehrtaetigkeiten",sws:c?.sws_lehrtaetigkeiten,colSpan:x}),r?.lehrtaetigkeiten?.map(n=>{const s=n.quelle==="planung";return e.jsxs(d,{hover:!0,children:[e.jsxs(t,{sx:{pl:3},children:[s&&e.jsx(fe,{fontSize:"inherit",sx:{mr:.5,opacity:.4,verticalAlign:"middle"}}),n.bezeichnung,n.kategorie!=="lehrveranstaltung"&&e.jsxs(u,{variant:"caption",color:"text.secondary",sx:{ml:1},children:["(",me[n.kategorie],")"]})]}),e.jsx(t,{align:"center",children:n.sws}),e.jsx(t,{align:"center",children:Oe(n)}),e.jsx(t,{align:"center",children:e.jsx(u,{variant:"caption",color:s?"primary":"text.secondary",children:s?"Import":"Manuell"})}),g&&e.jsx(t,{align:"center",children:!s&&e.jsx(_,{size:"small",onClick:()=>D("lehrtaetigkeit",n.id),children:e.jsx(R,{fontSize:"small"})})})]},n.id)}),g&&e.jsx(d,{children:e.jsx(t,{colSpan:x,children:e.jsx(m,{size:"small",startIcon:e.jsx(V,{}),onClick:()=>L("lehrtaetigkeit"),children:"Hinzufuegen"})})}),e.jsx(G,{title:"2. Lehrexport",sws:c?.sws_lehrexport,colSpan:x}),r?.lehrexporte?.map(n=>e.jsxs(d,{hover:!0,children:[e.jsxs(t,{sx:{pl:3},children:[n.fachbereich," - ",n.fach]}),e.jsx(t,{align:"center",children:n.sws}),e.jsx(t,{align:"center",children:"-"}),e.jsx(t,{align:"center",children:e.jsx(u,{variant:"caption",color:"text.secondary",children:"Manuell"})}),g&&e.jsx(t,{align:"center",children:e.jsx(_,{size:"small",onClick:()=>D("lehrexport",n.id),children:e.jsx(R,{fontSize:"small"})})})]},n.id)),g&&e.jsx(d,{children:e.jsx(t,{colSpan:x,children:e.jsx(m,{size:"small",startIcon:e.jsx(V,{}),onClick:()=>L("lehrexport"),children:"Hinzufuegen"})})}),e.jsx(G,{title:"3. Vertretungen",sws:c?.sws_vertretungen,colSpan:x}),r?.vertretungen?.map(n=>e.jsxs(d,{hover:!0,children:[e.jsxs(t,{sx:{pl:3},children:[be[n.art],": ",n.vertretene_person]}),e.jsx(t,{align:"center",children:n.sws}),e.jsx(t,{align:"center",children:"-"}),e.jsx(t,{align:"center",children:e.jsx(u,{variant:"caption",color:"text.secondary",children:"Manuell"})}),g&&e.jsx(t,{align:"center",children:e.jsx(_,{size:"small",onClick:()=>D("vertretung",n.id),children:e.jsx(R,{fontSize:"small"})})})]},n.id)),g&&e.jsx(d,{children:e.jsx(t,{colSpan:x,children:e.jsx(m,{size:"small",startIcon:e.jsx(V,{}),onClick:()=>L("vertretung"),children:"Hinzufuegen"})})}),e.jsx(G,{title:"4. Ermaessigungen / Funktionen",sws:c?.sws_ermaessigungen,colSpan:x}),r?.ermaessigungen?.map(n=>{const s=n.quelle==="semesterauftrag";return e.jsxs(d,{hover:!0,children:[e.jsxs(t,{sx:{pl:3},children:[s&&e.jsx(fe,{fontSize:"inherit",sx:{mr:.5,opacity:.4,verticalAlign:"middle"}}),n.bezeichnung]}),e.jsx(t,{align:"center",children:n.sws}),e.jsx(t,{align:"center",children:"-"}),e.jsx(t,{align:"center",children:e.jsx(u,{variant:"caption",color:s?"primary":"text.secondary",children:s?"Import":"Manuell"})}),g&&e.jsx(t,{align:"center",children:!s&&e.jsx(_,{size:"small",onClick:()=>D("ermaessigung",n.id),children:e.jsx(R,{fontSize:"small"})})})]},n.id)}),g&&e.jsx(d,{children:e.jsx(t,{colSpan:x,children:e.jsx(m,{size:"small",startIcon:e.jsx(V,{}),onClick:()=>L("ermaessigung"),children:"Hinzufuegen"})})}),e.jsx(G,{title:"5. Betreuungen (max. 3 SWS)",sws:c?.sws_betreuungen_angerechnet,colSpan:x}),r?.betreuungen?.map(n=>e.jsxs(d,{hover:!0,children:[e.jsxs(t,{sx:{pl:3},children:[n.student_vorname," ",n.student_name,e.jsxs(u,{variant:"caption",color:"text.secondary",sx:{ml:1},children:["(",we[n.betreuungsart],")"]})]}),e.jsx(t,{align:"center",children:n.sws}),e.jsx(t,{align:"center",children:"-"}),e.jsx(t,{align:"center",children:e.jsx(u,{variant:"caption",color:"text.secondary",children:"Manuell"})}),g&&e.jsx(t,{align:"center",children:e.jsx(_,{size:"small",onClick:()=>D("betreuung",n.id),children:e.jsx(R,{fontSize:"small"})})})]},n.id)),g&&e.jsx(d,{children:e.jsx(t,{colSpan:x,children:e.jsx(m,{size:"small",startIcon:e.jsx(V,{}),onClick:()=>L("betreuung"),children:"Hinzufuegen"})})}),e.jsxs(d,{sx:{bgcolor:"#e0e0e0"},children:[e.jsx(t,{sx:{fontWeight:600},children:"Gesamtdeputat"}),e.jsx(t,{align:"center",sx:{fontWeight:600,fontSize:"1.1em"},children:c?.gesamtdeputat||0}),e.jsx(t,{colSpan:x-2})]}),e.jsxs(d,{sx:{bgcolor:k.color==="success"?"#e8f5e9":k.color==="warning"?"#fff3e0":k.color==="error"?"#ffebee":"#f5f5f5"},children:[e.jsxs(t,{sx:{fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[k.icon,"Differenz (",k.text,")"]}),e.jsxs(t,{align:"center",sx:{fontWeight:600,fontSize:"1.1em"},children:[(c?.differenz||0)>0?"+":"",c?.differenz||0]}),e.jsx(t,{colSpan:x-2})]})]})]})}),c?.warnungen&&c.warnungen.length>0&&e.jsxs(U,{sx:{p:2,mt:2},children:[e.jsx(u,{variant:"subtitle2",gutterBottom:!0,children:"Hinweise"}),e.jsx(C,{spacing:1,children:c.warnungen.map((n,s)=>e.jsx(xe,{severity:"warning",sx:{py:0},children:n},s))})]}),e.jsxs(Ye,{open:Ae,onClose:J,maxWidth:"sm",fullWidth:!0,children:[e.jsxs(Je,{children:[f==="lehrtaetigkeit"&&"Lehrtaetigkeit hinzufuegen",f==="lehrexport"&&"Lehrexport hinzufuegen",f==="vertretung"&&"Vertretung hinzufuegen",f==="ermaessigung"&&"Ermaessigung hinzufuegen",f==="betreuung"&&"Betreuung hinzufuegen"]}),e.jsxs(Xe,{children:[f==="lehrtaetigkeit"&&e.jsxs(C,{spacing:2,sx:{pt:1},children:[e.jsx(je,{options:ye,getOptionLabel:n=>X(n),value:E,onChange:(n,s)=>Be(s),filterOptions:(n,{inputValue:s})=>{const l=s.toLowerCase();return n.filter(z=>z.bezeichnung_de?.toLowerCase().includes(l)||z.display_name?.toLowerCase().includes(l)||z.name?.toLowerCase().includes(l)||z.kuerzel?.toLowerCase().includes(l)).slice(0,20)},renderInput:n=>e.jsx(h,{...n,label:"Modul auswaehlen *",placeholder:"Suchen...",required:!0,error:!E,helperText:E?"":"Pflichtfeld",size:"small"}),renderOption:(n,s)=>e.jsx("li",{...n,children:e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(u,{variant:"body2",children:X(s)}),e.jsxs(u,{variant:"caption",color:"text.secondary",children:[s.sws_gesamt||s.sws||0," SWS"]})]})})}),E&&e.jsxs(e.Fragment,{children:[e.jsxs(p,{sx:{display:"flex",gap:2},children:[e.jsx(h,{label:"Bezeichnung",fullWidth:!0,value:j.bezeichnung,disabled:!0,size:"small"}),e.jsx(h,{label:"SWS",value:j.sws,disabled:!0,size:"small",sx:{width:80}})]}),e.jsxs(M,{fullWidth:!0,size:"small",children:[e.jsx(O,{children:"Kategorie"}),e.jsx(N,{value:j.kategorie,label:"Kategorie",onChange:n=>y({...j,kategorie:n.target.value}),children:Object.entries(me).map(([n,s])=>e.jsx(H,{value:n,children:s},n))})]}),e.jsx(en,{control:e.jsx(pe,{checked:j.ist_block,onChange:n=>{y({...j,ist_block:n.target.checked}),n.target.checked&&Q([])},size:"small"}),label:"Blockveranstaltung"}),!j.ist_block&&e.jsxs(M,{fullWidth:!0,size:"small",children:[e.jsx(O,{children:"Wochentage (optional)"}),e.jsx(N,{multiple:!0,value:Z,onChange:Le,input:e.jsx(nn,{label:"Wochentage (optional)"}),renderValue:n=>n.map(s=>ze[s]).join(", "),children:Object.entries(ze).map(([n,s])=>e.jsxs(H,{value:n,children:[e.jsx(pe,{checked:Z.indexOf(n)>-1,size:"small"}),s]},n))})]})]})]}),f==="lehrexport"&&e.jsxs(C,{spacing:2,sx:{pt:1},children:[e.jsx(h,{label:"Fachbereich",fullWidth:!0,value:S.fachbereich,onChange:n=>K({...S,fachbereich:n.target.value}),size:"small"}),e.jsx(h,{label:"Fach",fullWidth:!0,value:S.fach,onChange:n=>K({...S,fach:n.target.value}),size:"small"}),e.jsx(h,{label:"SWS",type:"number",fullWidth:!0,value:S.sws,onChange:n=>K({...S,sws:parseFloat(n.target.value)||0}),inputProps:{step:.5},size:"small"})]}),f==="vertretung"&&e.jsxs(C,{spacing:2,sx:{pt:1},children:[e.jsxs(M,{fullWidth:!0,size:"small",children:[e.jsx(O,{children:"Art"}),e.jsx(N,{value:b.art,label:"Art",onChange:n=>I({...b,art:n.target.value}),children:Object.entries(be).map(([n,s])=>e.jsx(H,{value:n,children:s},n))})]}),e.jsx(h,{label:"Vertretene Person",fullWidth:!0,value:b.vertretene_person,onChange:n=>I({...b,vertretene_person:n.target.value}),size:"small"}),e.jsx(h,{label:"Fach des Professors",fullWidth:!0,value:b.fach_professor,onChange:n=>I({...b,fach_professor:n.target.value}),size:"small"}),e.jsx(h,{label:"SWS",type:"number",fullWidth:!0,value:b.sws,onChange:n=>I({...b,sws:parseFloat(n.target.value)||0}),inputProps:{step:.5},size:"small"})]}),f==="ermaessigung"&&e.jsxs(C,{spacing:2,sx:{pt:1},children:[e.jsx(je,{options:Ce,getOptionLabel:n=>n.name||"",value:F,onChange:(n,s)=>Pe(s),renderInput:n=>e.jsx(h,{...n,label:"Funktion auswaehlen *",placeholder:"Suchen...",required:!0,error:!F,helperText:F?"":"Pflichtfeld",size:"small"}),renderOption:(n,s)=>e.jsx("li",{...n,children:e.jsxs(p,{sx:{display:"flex",justifyContent:"space-between",width:"100%"},children:[e.jsx(u,{variant:"body2",children:s.name}),e.jsxs(u,{variant:"caption",color:"text.secondary",children:[s.standard_sws," SWS"]})]})})}),F&&e.jsxs(p,{sx:{display:"flex",gap:2},children:[e.jsx(h,{label:"Bezeichnung",fullWidth:!0,value:T.bezeichnung,disabled:!0,size:"small"}),e.jsx(h,{label:"SWS",value:T.sws,disabled:!0,size:"small",sx:{width:80}})]})]}),f==="betreuung"&&e.jsxs(C,{spacing:2,sx:{pt:1},children:[e.jsxs(p,{sx:{display:"flex",gap:2},children:[e.jsx(h,{label:"Vorname",fullWidth:!0,value:w.student_vorname,onChange:n=>B({...w,student_vorname:n.target.value}),size:"small"}),e.jsx(h,{label:"Nachname",fullWidth:!0,value:w.student_name,onChange:n=>B({...w,student_name:n.target.value}),size:"small"})]}),e.jsxs(M,{fullWidth:!0,size:"small",children:[e.jsx(O,{children:"Art der Betreuung"}),e.jsx(N,{value:w.betreuungsart,label:"Art der Betreuung",onChange:n=>B({...w,betreuungsart:n.target.value}),children:Object.entries(we).map(([n,s])=>e.jsx(H,{value:n,children:s},n))})]}),e.jsx(h,{label:"Titel der Arbeit (optional)",fullWidth:!0,value:w.titel_arbeit,onChange:n=>B({...w,titel_arbeit:n.target.value}),size:"small"}),e.jsx(u,{variant:"caption",color:"text.secondary",children:"SWS wird automatisch basierend auf der Betreuungsart berechnet"})]})]}),e.jsxs(sn,{sx:{px:3,py:2},children:[e.jsx(m,{onClick:J,size:"small",children:"Abbrechen"}),e.jsx(m,{onClick:De,variant:"contained",size:"small",children:"Speichern"})]})]})]})};export{yn as default};
